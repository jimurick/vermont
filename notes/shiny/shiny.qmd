---
title: "Shiny App Example"
format: html
---

```{r setup}
#| echo: false
#| include: false
```

This section will describe the example in the repo's `{r} repo_link("examples folder", "examples/shiny")`.

The app is posted on shinyapps.io: <https://jimurick.shinyapps.io/HospitalStarRatings/>

## Files

- `app.R` - the main Shiny app file (see [App](#app) below)
- `util.R` - contains 1 function that is used a few times in `app.R`
- `www`
  - `hospital_df.Rda` - an R data file that contains the `hospital_df` dataframe, with one row per hospital, including columns for latitude/longitude and the HTML in the marker popups.
  - `util.js` - a javascript file with one function that's called when you click the "View Data" button on a hospital's popup
  - `about.css` - a CSS file that changes the style of a table in the About tab, and also changes the color of monospaced code font from purple (the default) to black.
- `About.qmd` - I render this to the markdown file `About.md` with the RStudio Terminal command `quarto render examples/shiny/About.qmd -t md`. Then include the markdown in the last tab of `app.R`.

## Dependency: R Package `hospitalstars`

This shiny app uses an R package I 
[hospitalstars](https://github.com/jimurick/hospitalstars)

It may be interesting because

- Most data manipulation is done with the package `data.table`, because it's much faster than `dplyr`.
- There is a C++ implementation of the [k-means clustering](https://en.wikipedia.org/wiki/K-means_clustering) algorithm. It was taken from the `amap` package ([here](https://github.com/cran/amap/blob/master/src/kmeans.cpp)) and modified to add a parameter from the SAS implementation ([`FASTCLUS`](https://documentation.sas.com/doc/en/pgmsascdc/9.4_3.4/statug/statug_fastclus_overview.htm)).

## App




## References

- Books
  - [Mastering Shiny](https://mastering-shiny.org/)
  - [Outstanding User Interfaces with Shiny](https://unleash-shiny.rinterface.com/)
  - [R Packages](https://r-pkgs.org/)
- Links
  - [htmlwidgets Gallery](https://gallery.htmlwidgets.org/)
  - [bslib](https://rstudio.github.io/bslib/)
